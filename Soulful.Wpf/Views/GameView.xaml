<views:MvxWpfView x:Class="Soulful.Wpf.Views.GameView"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                  xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                  xmlns:local="clr-namespace:Soulful.Wpf.Views"
                  xmlns:converters="clr-namespace:Soulful.Wpf.UIEnhancements"
                  xmlns:views="clr-namespace:MvvmCross.Platforms.Wpf.Views;assembly=MvvmCross.Platforms.Wpf"
                  xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
                  mc:Ignorable="d" 
                  d:DesignHeight="450" d:DesignWidth="800">

    <views:MvxWpfView.Resources>
        <converters:IntToCardNativeConverter x:Key="IntToCardConverter"/>
    </views:MvxWpfView.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Back button -->
        <Button Content="{md:PackIcon Kind=ArrowBack}"
                ToolTip="{Binding [ToolTip_NavigateBack], Mode=OneTime}"
                Command="{Binding NavigateBackCommand}"
                HorizontalAlignment="Left" VerticalAlignment="Top" Margin="8"
                Panel.ZIndex="999" x:Name="BtnNavigateBack" Opacity="0.5">
            <Button.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="BtnNavigateBack"
                                             Storyboard.TargetProperty="Opacity"
                                             From="0.5" To="1.0" Duration="0:0:0.5"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="BtnNavigateBack"
                                             Storyboard.TargetProperty="Opacity"
                                             From="1.0" To="0.5" Duration="0:0:0.5"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Button.Triggers>
        </Button>

        <!-- Player White cards -->
        <ItemsControl HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,20,0,0"
                      ItemsSource="{Binding WhiteCards}"
                      ItemTemplate="{StaticResource WhiteCardTemplate}"
                      ItemsPanel="{StaticResource ItemsControlWrapPanelTemplate}"/>

        <!-- Black card -->
        <md:Card Background="{StaticResource MaterialDesignPaper}" Foreground="White"
                 Width="150" Height="200" UniformCornerRadius="4"
                 Padding="8" Grid.Row="1">
            <Grid>
                <Viewbox VerticalAlignment="Top">
                    <TextBlock Text="{Binding BlackCard, Converter={StaticResource IntToCardConverter}, ConverterParameter=BlackText}"
                               TextWrapping="Wrap" FontSize="16"
                               Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                               Width="134"/>
                </Viewbox>
                <Border Background="White" CornerRadius="100"
                        HorizontalAlignment="Right" VerticalAlignment="Bottom"
                        Margin="4" Height="20" Width="20">
                    <TextBlock Text="{Binding BlackCard, Converter={StaticResource IntToCardConverter}, ConverterParameter=BlackPick}"
                               Foreground="Black" FontWeight="Bold"
                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
            </Grid>
        </md:Card>
    </Grid>
</views:MvxWpfView>
